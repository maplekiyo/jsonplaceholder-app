<div class="todos-container">
  <h2>Todos</h2>
  <div class="filter-controls">
    <button mat-raised-button 
            [color]="filter() === 'all' ? 'primary' : ''"
            (click)="setFilter('all')">
      All ({{ todos().length }})
    </button>
    <button mat-raised-button 
            [color]="filter() === 'completed' ? 'primary' : ''"
            (click)="setFilter('completed')">
      Completed ({{ getCompletedCount() }})
    </button>
    <button mat-raised-button 
            [color]="filter() === 'pending' ? 'primary' : ''"
            (click)="setFilter('pending')">
      Pending ({{ getPendingCount() }})
    </button>
  </div>
  
  <mat-list>
    @for (todo of filteredTodos(); track todo.id) {
      <mat-list-item [class.completed]="todo.completed">
        <mat-checkbox [checked]="todo.completed" disabled matListItemIcon></mat-checkbox>
        <div matListItemTitle>{{ todo.title }}</div>
        <div matListItemLine>Assigned to: {{ getUserName(todo.userId) }}</div>
        <span matListItemMeta [class]="todo.completed ? 'status-completed' : 'status-pending'">
          {{ todo.completed ? 'Completed' : 'Pending' }}
        </span>
      </mat-list-item>
    }
  </mat-list>
</div>
